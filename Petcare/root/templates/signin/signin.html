{% load crispy_forms_tags %}
{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Paws and Tails - Pet Care Website Template</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Free HTML Templates" name="keywords">
    <meta content="Free HTML Templates" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans&family=Nunito:wght@600;700;800&display=swap" rel="stylesheet"> 

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">

    <!-- Flaticon Font -->
    <link href="lib/flaticon/font/flaticon.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
    <link href="{% static 'home/css/style.min.css' %}" rel="stylesheet">
    <link href="{% static 'home/css/style.min.css' %}" rel="stylesheet">
    <script src="{% static 'home/js/main.js' %}"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var submitButton = document.getElementById("submit-btn");
            var form = document.querySelector("form");
    
            form.addEventListener("submit", function () {
                submitButton.disabled = true;
                submitButton.innerText = "Submitted.";
            });
      });
    </script>
   
    <style>
body {
            font-family: Arial, sans-serif;
            background-image: url('{% static 'home/img/new-6.jpg' %}');
            /* Replace with the actual path to your background image */
            background-size: cover;
            /* This will cover the entire viewport */
            background-repeat: no-repeat;
            background-attachment: fixed;
            /* This will keep the background fixed while scrolling */
          }

        
.registration-container
 {
    max-width: 400px; /* Adjust the maximum width as needed */
    margin: 0 auto; /* Center the container horizontally */
    padding: 20px; /* Add padding to the container for spacing */
    background-color: #FBCEB1; /* Optional background color for the container */
    border: 1px solid #ccc; /* Optional border for the container */
    border-radius: 5px; /* Optional border-radius for rounded corners */
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1); /* Optional box shadow */
}

.registration-container {
        max-width: 400px;
        margin: 0 auto;
        padding: 20px;
       
        background-size: cover; /* Adjust background size as needed */
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-color: #FBCEB1; /* Optional background color for the container */
        border: 1px solid #ccc; /* Optional border for the container */
        border-radius: 5px; /* Optional border-radius for rounded corners */
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1); /* Optional box shadow */
    }

    .page-container {
        margin-top: 1px; /* Adjust the value to create the desired space between header and background */
       /* Replace with the correct path to your background image */
        background-size: cover;
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-color: transparent; /* Optional background color */
        /* Other styles for the page container */
    }
    
        /* Other CSS styles for your page */
    </style>
    
   </style>
   


   


  
         


          </style>
</head>
<body>
   
        <!-- Topbar Start -->
        <div class="container-fluid">
            <div class="row bg-secondary py-2 px-lg-5">
                <div class="col-lg-6 text-center text-lg-left mb-2 mb-lg-0">
                    <div class="d-inline-flex align-items-center">
                        <a class="text-white pr-3" href="">FAQs</a>
                        <span class="text-white">|</span>
                        <a class="text-white px-3" href="">Help</a>
                        <span class="text-white">|</span>
                        <a class="text-white pl-3" href="">Support</a>
                    </div>
                </div>
                <div class="col-lg-6 text-center text-lg-right">
                    <div class="d-inline-flex align-items-center">
                        <a class="text-white px-3" href="">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a class="text-white px-3" href="">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a class="text-white px-3" href="">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a class="text-white px-3" href="">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a class="text-white pl-3" href="">
                            <i class="fab fa-youtube"></i>
                        </a>
                    </div>
                </div>
            </div>
            <div class="row py-3 px-lg-5">
                <div class="col-lg-4">
                    <a href="" class="navbar-brand d-none d-lg-block">
                        <h1 class="m-0 display-5 text-capitalize"><span class="text-primary">Paws and</span>Tails</h1>
                    </a>
                </div>
                <div class="col-lg-8 text-center text-lg-right">
                    <div class="d-inline-flex align-items-center">
                        <div class="d-inline-flex flex-column text-center pr-3 border-right">
                            <h6>Opening Hours</h6>
                            <p class="m-0">8.00AM - 9.00PM</p>
                        </div>
                        <div class="d-inline-flex flex-column text-center px-3 border-right">
                            <h6>Email Us</h6>
                            <p class="m-0">pawsandtails@gmail.com.com</p>
                        </div>
                        <div class="d-inline-flex flex-column text-center pl-3">
                            <h6>Call Us</h6>
                            <p class="m-0">+012 345 6789</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Topbar End -->
    
    
        <!-- Navbar Start -->
        <div class="container-fluid p-0">
            <nav class="navbar navbar-expand-lg bg-dark navbar-dark py-3 py-lg-0 px-lg-5">
                <a href="" class="navbar-brand d-block d-lg-none">
                    <h1 class="m-0 display-5 text-capitalize font-italic text-white"><span class="text-primary">Safety</span>First</h1>
                </a>
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse justify-content-between px-3" id="navbarCollapse">
                    <div class="navbar-nav mr-auto py-0">
                        <a href="{% url 'index' %}" class="nav-item nav-link active">Home</a>
                        <a href="about.html" class="nav-item nav-link">About</a>
                        <a href="service.html" class="nav-item nav-link">Service</a>
                 
                        <div class="nav-item dropdown">
                            <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Pages</a>
                            <div class="dropdown-menu rounded-0 m-0">
                                <a href="blog.html" class="dropdown-item">Blog Grid</a>
                                <a href="single.html" class="dropdown-item">Blog Detail</a>
                            </div>
                        </div>
                        <a href="contact.html" class="nav-item nav-link">Contact</a>
                    </div>
                   
                    
                    <a href="{% url 'login' %}" class="btn btn-lg btn-primary px-3 d-none d-lg-block">Login</a>
                </div>
            </nav>
        </div>
        <!-- Navbar End -->
    
  
  
   


    <!-- Navbar End -->
   
    <div class="page-container">
   <center> <h2>SIGNUP</h2></center>
                         <div id="home" class="banner-container no-padding">
                                <div class="container">
                                    <div class="row mx-auto"></div>
                                    <div class="slider-det">
                                        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                                            <div class="registration-container" style="background-image: url('home/img/dog-1.jpg'); background-size: cover; background-repeat: no-repeat; background-attachment: fixed;"> <!-- Apply the class here -->
                                              
                                                <form id="signup-form" method="POST">
                                                    {% csrf_token %}


                            <!-- Personal Information -->
                            <div class="form-group">
                                <label for="full-name">Full Name:</label>
                                <input type="text" id="full-name" name="full-name" class="form-control" required>
                                <span id="full-name-error" class="error"></span>
                            </div>
                            
                            <div class="form-group">
                                <label for="email">Email Address:</label>
                                <input type="email" id="email" name="email" class="form-control" required>
                                <span id="email-error" class="error"></span>
                                <div id="email-warning" class="warning"></div>
                                <div id="email-availability" class="availability"></div> <!-- Add this element -->
                            </div>
                            
                            
                            <div class="form-group">
                                <label for="phone">Phone Number:</label>
                                <input type="tel" id="phone" name="phone" class="form-control" required>
                                <span id="phone-error" class="error"></span>
                            </div>
                           
                            <!-- User Account -->
                            <div class="form-group">
                                <label for="username">Username:</label>
                                <input type="text" id="username" name="username" class="form-control" required>
                                <span id="username-error" class="error"></span>
                                <div id="username-warning" class="warning"></div>
                                <div id="username-availability" class="availability"></div> <!-- Add this element -->
                            </div>
                            
                            
                            <div class="form-group">
                                <label for="password">Password:</label>
                                <input type="password" id="password" name="password" class="form-control" required>
                                <span id="password-error" class="error"></span>
                            </div>
                            
                            <div class="form-group">
                                <label for="confirm-password">Confirm Password:</label>
                                <input type="password" id="confirm-password" name="confirm-password" class="form-control" required>
                                <span id="confirm-password-error" class="error"></span>
                            </div>
                            
                           
                            
                            <!-- Submit Button -->
                            <div class="form-group">
                                <button type="submit" class="btn btn-primary">Submit</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            </div>
        </div>
    </div>
</div>
<div class="w-10 col-12 d-flex justify-content-center">
<form method="POST" autocomplete="off"> 
<div class="form-group" > 

    {% csrf_token %}
    {% if messages %}
    {% for message in messages%}
    <div class="alert alert-success" role="alert">
        {{message}}
    </div>
    {% endfor %}
    {% else %}
    
    {% csrf_token %}
    {{form|crispy}}

    {% endif %}   


    
</div>
</form>
</div>

<!-- Footer Start -->
<div class="container-fluid bg-dark text-white mt-5 py-5 px-sm-3 px-md-5">
    <div class="row pt-5">
        <div class="col-lg-4 col-md-12 mb-5">
            <h1 class="mb-3 display-5 text-capitalize text-white"><span class="text-primary">Paws and</span>Tails</h1>
            <p class="m-0">Your Pet's Health is Our Priority:
                Our dedicated team of veterinarians, trainers, and grooming experts are here to provide 
                you with the knowledge, guidance, and support you need to keep your pets healthy, well-behaved, 
                and looking their best.</p>
        </div>
        <div class="col-lg-8 col-md-12">
            <div class="row">
                <div class="col-md-4 mb-5">
                    <h5 class="text-primary mb-4">Get In Touch</h5>
                    <p><i class="fa fa-map-marker-alt mr-2"></i>12th Street,Kottayam,Kerala</p>
                    <p><i class="fa fa-phone-alt mr-2"></i>+012 345 67890</p>
                    <p><i class="fa fa-envelope mr-2"></i>pawsandtails@example.com</p>
                    <div class="d-flex justify-content-start mt-4">
                        <a class="btn btn-outline-light rounded-circle text-center mr-2 px-0" style="width: 36px; height: 36px;" href="#"><i class="fab fa-twitter"></i></a>
                        <a class="btn btn-outline-light rounded-circle text-center mr-2 px-0" style="width: 36px; height: 36px;" href="#"><i class="fab fa-facebook-f"></i></a>
                        <a class="btn btn-outline-light rounded-circle text-center mr-2 px-0" style="width: 36px; height: 36px;" href="#"><i class="fab fa-linkedin-in"></i></a>
                        <a class="btn btn-outline-light rounded-circle text-center mr-2 px-0" style="width: 36px; height: 36px;" href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="col-md-4 mb-5">
                    <h5 class="text-primary mb-4">Popular Links</h5>
                    <div class="d-flex flex-column justify-content-start">
                        <a class="text-white mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Home</a>
                        <a class="text-white mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>About Us</a>
                        <a class="text-white mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Our Services</a>
                        <a class="text-white mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Our Team</a>
                        <a class="text-white" href="#"><i class="fa fa-angle-right mr-2"></i>Contact Us</a>
                    </div>
                </div>
                <div class="col-md-4 mb-5">
                    <h5 class="text-primary mb-4">Newsletter</h5>
                    <form action="">
                        <div class="form-group">
                            <input type="text" class="form-control border-0" placeholder="Your Name" required="required" />
                        </div>
                        <div class="form-group">
                            <input type="email" class="form-control border-0" placeholder="Your Email" required="required" />
                        </div>
                        <div>
                            <button class="btn btn-lg btn-primary btn-block border-0" type="submit">Submit Now</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="container-fluid text-white py-4 px-sm-3 px-md-5" style="background: #111111;">
    <div class="row">
        <div class="col-md-6 text-center text-md-left mb-3 mb-md-0">
            <p class="m-0 text-white">
                &copy; <a class="text-white font-weight-bold" href="#">Paws and Tails</a>. All Rights Reserved. Designed by
                <a class="text-white font-weight-bold" href="https://htmlcodex.com">HTML Codex</a>
            </p>
        </div>
        <div class="col-md-6 text-center text-md-right">
            <ul class="nav d-inline-flex">
                <li class="nav-item">
                    <a class="nav-link text-white py-0" href="#">Privacy</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white py-0" href="#">Terms</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white py-0" href="#">FAQs</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white py-0" href="#">Help</a>
                </li>
            </ul>
        </div>
    </div>
</div>
<!-- Footer End -->







 <!-- Back to Top -->
 <a href="#" class="btn btn-lg btn-primary back-to-top"><i class="fa fa-angle-double-up"></i></a>
 <div class="form-group">
    <label for="full-name">Full Name:</label>
    <input type="text" id="full-name" name="full-name" class="form-control" required>
    <span id="full-name-error" class="error"></span>
    <div id="full-name-warning" class="warning"></div> <!-- Add this line -->
</div>

 <script>
    // Get references to the form and input fields
    const form = document.getElementById("signup-form");
    const usernameInput = document.getElementById("username");
    const phoneInput = document.getElementById("phone");
    const fullNameInput = document.getElementById("full-name");
    const emailInput = document.getElementById("email");
    const passwordInput = document.getElementById("password");
    const confirmPasswordInput = document.getElementById("confirm-password");
    const usernameError = document.getElementById("username-error");
    const emailError = document.getElementById("email-error");
    const passwordError = document.getElementById("password-error");
    const confirmPasswordError = document.getElementById("confirm-password-error");
    const fullNameError = document.getElementById("full-name-error");
    const phoneError = document.getElementById("phone-error");

    // Function to validate the form
    function validateForm() {
        // Reset previous error messages
        usernameError.textContent = "";
        emailError.textContent = "";
        passwordError.textContent = "";
        confirmPasswordError.textContent = "";
        fullNameError.textcontent="";
        phoneError.textContent="";

        // Get the values of the input fields
        const phoneNumber = phoneInput.value.trim();
        const fullName = fullNameInput.value.trim();
        const username = usernameInput.value.trim();
        const email = emailInput.value.trim();
        const password = passwordInput.value.trim();
        const confirmPassword = confirmPasswordInput.value.trim();

        // Validate full name (should be a string)
        if (fullName.length < 3) {
            fullNameError.textContent = "Fullname must be at least 3 characters.";
        } else if (!/^[a-zA-Z\s]+$/.test(fullName)) {
            fullNameError.textContent = "Fullname can only contain letters and spaces.";
        }
        
      // Validate phone number (should be a number with 10 digits)
      
       if (!/^\d{10}$/.test(phoneNumber)) {
        phoneError.textContent = "*Phone number must be a 10-digit number.";
      } else {
        phoneError.textContent = "";
      }


        // Validate username (for example, require a minimum length and only letters)
        if (username.length < 3) {
            usernameError.textContent = "*Username must be at least 3 characters.";
        } else if (!/^[a-zA-Z]+$/.test(username)) {
            usernameError.textContent = "*Username can only contain letters and no whitespaces.";
        }

        // Validate email format
        if (!/^\S+@\S+\.\S+$/.test(email)) {
            emailError.textContent = "*Invalid email format.";
        }

        // Validate password (for example, require a minimum length)
        if (password.length < 6) {
            passwordError.textContent = "*Password must be at least 6 characters.";
        }

        // Validate confirm password
        if (confirmPassword !== password) {
            confirmPasswordError.textContent = "Passwords do not match.";
        }

        // Check if any error messages are displayed
        const hasErrors = !!(
            usernameError.textContent ||
            emailError.textContent ||
            passwordError.textContent ||
            confirmPasswordError.textContent ||
            fullNameError.textContent ||
            phoneError.textContent
        );

        // If any errors exist, prevent form submission
        if (hasErrors) {
            return false;
        }

        // If all validations pass, allow form submission
        return true;
    }

    // Attach the validateForm function to the form's submit event
    form.addEventListener("submit", function (event) {
        if (!validateForm()) {
            event.preventDefault(); // Prevent form submission if validation fails
        }
    });

    // Real-time validation for all fields as the user types
    usernameInput.addEventListener("input", function () {
        validateUsername();
    });

    emailInput.addEventListener("input", function () {
        validateEmail();
    });

    passwordInput.addEventListener("input", function () {
        validatePassword();
    });

    confirmPasswordInput.addEventListener("input", function () {
        validateConfirmPassword();
    });
    fullNameInput.addEventListener("input", function () {
        validatefullName();
    });
    
    phoneInput.addEventListener("input", function () {
        validatePhoneNumber();
    });

    // Helper functions for individual field validation

    function isEmpty(value) {
        return value.trim() === "";
    }
    function validateUsername() {
        const username = usernameInput.value.trim();
        if (isEmpty(username)) {
            usernameError.textContent = "Username is required.";
        } else if (username.length < 3) {
            usernameError.textContent = "Username must be at least 3 characters.";
        } else if (!/^[a-zA-Z]+$/.test(username)) {
            usernameError.textContent = "Username can only contain letters & No whitespaces.";
        } else {
            usernameError.textContent = "";
        }
    }
    
    
    function validateEmail() {
        const email = emailInput.value.trim();
        if (isEmpty(email)) {
            emailError.textContent = "Email is required.";
        } else if (!/(gmail\.com|ajce\.in|mca\.in|amaljyothi\.in|ac\.in|amaljyothi\.ac\.in)/i.test(email)) {
            emailError.textContent = "Email is not valid.";
        } else {
            emailError.textContent = "";
        }
    }
    
    
    function validatePassword() {
        const password = passwordInput.value.trim();
        if (isEmpty(password)) {
            passwordError.textContent = "Password is required.";
        } else {
            const specialChars = /[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/;
            if (password.length < 6) {
                passwordError.textContent = "Password must be at least 6 characters.";
            } else if (!specialChars.test(password)) {
                passwordError.textContent = "Password must contain at least one special character.";
            } else {
                passwordError.textContent = "";
            }
        }
    }
    
    function validateConfirmPassword() {
        const confirmPassword = confirmPasswordInput.value.trim();
        const password = passwordInput.value.trim();
        if (isEmpty(confirmPassword)) {
            confirmPasswordError.textContent = "Confirm Password is required.";
        } else if (confirmPassword !== password) {
            confirmPasswordError.textContent = "Passwords do not match.";
        } else {
            confirmPasswordError.textContent = "";
        }
    }
    
    
    function validatefullName() {
        const fullName = fullNameInput.value.trim();
        if (isEmpty(fullName)) {
            fullNameError.textContent = "Full Name is required.";
            fullNameWarning.textContent = ""; // Clear the warning when there's an error
        } else if (fullName.length < 3) {
            fullNameError.textContent = "Full Name must be at least 3 characters.";
            fullNameWarning.textContent = ""; // Clear the warning when there's an error
        } else if (!/^[a-zA-Z\s]+$/.test(fullName)) {
            fullNameError.textContent = "Full Name can only contain letters and spaces.";
            fullNameWarning.textContent = ""; // Clear the warning when there's an error
        } else if (fullName.startsWith(' ')) {
            fullNameError.textContent = "";
            fullNameWarning.textContent = "Full Name should not start with spaces.";
        } else {
            fullNameError.textContent = "";
            fullNameWarning.textContent = ""; // Clear the warning when there's no error
        }
    }
    
    
   
    function validatePhoneNumber() {
        const phoneNumber = phoneInput.value.trim();
        if (isEmpty(phoneNumber)) {
            phoneError.textContent = "Phone number is required.";
        } else if (!/^[7896]/.test(phoneNumber)) {
            phoneError.textContent = "Phone number doesn't exist";
        } else if (!/^\d{10}$/.test(phoneNumber)) {
            phoneError.textContent = "Phone number must be 10 digits long.";
        } else {
            phoneError.textContent = "";
        }
    }
    
    
// Function to check email availability in real-time
function checkEmailAvailability(email) {
    const emailAvailability = document.getElementById("email-availability");

    // Send an AJAX request to check email availability
    const xhr = new XMLHttpRequest();
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
            if (xhr.status === 200) {
                const response = JSON.parse(xhr.responseText);
                if (response.available) {
                    emailAvailability.textContent = ""; // Email is available
                } else if (response.available === false) {
                    emailAvailability.textContent = "This email already exists."; // Email is not available
                } else {
                    // Handle the case where the response does not contain the 'available' property
                    console.error("Invalid response format: 'available' property is missing or not boolean.");
                }
            } else {
                console.error("Error checking email availability");
            }
        }
    };
    

    xhr.open("GET", `/check_email_availability/?email=${email}`, true); // Replace with your actual URL for checking email availability
    xhr.send();
}

// Attach the checkEmailAvailability function to the email field's input event
emailInput.addEventListener("input", function () {
    const email = emailInput.value.trim();
    checkEmailAvailability(email);
});

   
// Function to check username availability in real-time
function checkUsernameAvailability(username) {
    const usernameAvailability = document.getElementById("username-availability");

    // Send an AJAX request to check username availability
    const xhr = new XMLHttpRequest();
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
            if (xhr.status === 200) {
                const response = JSON.parse(xhr.responseText);
                if (response.available) {
                    usernameAvailability.textContent = ""; // Username is available
                } else {
                    usernameAvailability.textContent = "This username already exists."; // Username is not available
                }
            } else {
                console.error("Error checking username availability");
            }
        }
    };

    xhr.open("GET", `/check_username_availability/?username=${username}`, true); // Replace with your actual URL for checking username availability
    xhr.send();
}

// Attach the checkUsernameAvailability function to the username field's input event
usernameInput.addEventListener("input", function () {
    const username = usernameInput.value.trim();
    checkUsernameAvailability(username);
});

</script>
</body>
 <!-- JavaScript Libraries -->
 <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
 <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
 <script src="lib/easing/easing.min.js"></script>
 <script src="lib/owlcarousel/owl.carousel.min.js"></script>
 <script src="lib/tempusdominus/js/moment.min.js"></script>
 <script src="lib/tempusdominus/js/moment-timezone.min.js"></script>
 <script src="lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>

 <!-- Contact Javascript File -->
 <script src="mail/jqBootstrapValidation.min.js"></script>
 <script src="mail/contact.js"></script>

 <!-- Template Javascript -->
 <script src="js/main.js"></script>





</html>
